#config_version=5
mode:
    start_events:  mode_world1_starting, mode_world2_starting, mode_world3_starting, mode_world4_starting, mode_world5_starting
    stop_events:  mode_world1_stopped, mode_world2_stopped, mode_world3_stopped, mode_world4_stopped, mode_world5_stopped
    priority: 200

shot_profiles:
  collectshot:
    states:
      - name: lit
        show: on

shots:
  collectitem1:
    switch: s_collectitem1
    profile: collectshot
    show_tokens:
      leds: l_collectitem1
    enable_events: collectitem1_enabled
    disable_events: collectitem1_disabled
  collectitem2:
    switch: s_collectitem2
    profile: collectshot
    show_tokens:
      leds: l_collectitem2
    enable_events: collectitem2_enabled
    disable_events: collectitem2_disabled
  collectitem3:
    switch: s_collectitem4
    profile: collectshot
    show_tokens:
      leds: l_collectitem4
    enable_events: collectitem3_enabled
    disable_events: collectitem3_disabled
  collectitem4:
    switch: s_collectitem5
    profile: collectshot
    show_tokens:
      leds: l_collectitem5
    enable_events: collectitem4_enabled
    disable_events: collectitem4_disabled

sound_player:
  #VILLAGER MULTIBALL
  s_spinner_active: 
    villagersp: 
      action: play
      loops: 1
  villagermultiball_ready:
    villager_multiball_ready

variable_player:
 #COLLECT ITEM 1 HIT
  collectitem1_hit:
    world_item1_remaining: -1 * current_player.shovel
    score: 10000 * current_player.shovel * current_player.multiplier_mb
    bonus_items: 1 * current_player.shovel
    world_jackpot_items: 1 * current_player.shovel
    world_jackpot_base: 1000 * current_player.shovel

  collectitem1_hit{current_player.world_item1_remaining < 0}:
    world_item1_remaining:
      int: 0
      action: set

  #COLLECT ITEM 2 HIT
  collectitem2_hit:
    world_item2_remaining: -1 * current_player.pickaxe
    score: 10000 * current_player.pickaxe * current_player.multiplier_mb 
    bonus_items: 1  * current_player.pickaxe 
    world_jackpot_items: 1  * current_player.pickaxe 
    world_jackpot_base: 1000 * current_player.pickaxe 

  collectitem2_hit{current_player.world_item2_remaining < 0}:
    world_item2_remaining:
      int: 0
      action: set

  #COLLECT ITEM 3 HIT
  collectitem3_hit:
    world_item3_remaining: -1 * current_player.pickaxe
    score: 10000 * current_player.pickaxe * current_player.multiplier_mb
    bonus_items: 1 * current_player.pickaxe
    world_jackpot_items: 1 * current_player.pickaxe
    world_jackpot_base: 1000 * current_player.pickaxe

  collectitem3_hit{current_player.world_item3_remaining < 0}:
    world_item3_remaining:
      int: 0
      action: set

  #COLLECT ITEM 4 HIT
  collectitem4_hit:
    world_item4_remaining: -1 * current_player.axe
    score: 10000 * current_player.axe * current_player.multiplier_mb
    bonus_items: 1 * current_player.axe
    world_jackpot_items: 1 * current_player.axe
    world_jackpot_base: 1000 * current_player.axe
    
  collectitem4_hit{current_player.world_item4_remaining < 0}:
    world_item4_remaining:
      int: 0
      action: set

  #TODO: Bug - Will receive move items and points than available items 


widgets:
  widget_item1needed:
    - type: text        #ITEM 1 NEEDED
      text: (player|world_item1_remaining)
      font_name: ARLRDBD
      font_size: 25
      y: bottom+24
      x: right-462
      z: 100
      anchor_x: center
      anchor_y: bottom
  widget_item2needed:
    - type: text        #ITEM 2 NEEDED
      text: (player|world_item2_remaining)
      font_name: ARLRDBD
      font_size: 25
      y: bottom+24
      x: right-373
      z: 100
      anchor_x: center
      anchor_y: bottom
  widget_item3needed:
    - type: text        #ITEM 3 NEEDED
      text: (player|world_item3_remaining)
      font_name: ARLRDBD
      font_size: 25
      y: bottom+24
      x: right-284
      z: 100
      anchor_x: center
      anchor_y: bottom
  widget_item4needed:
    - type: text        #ITEM 4 NEEDED
      text: (player|world_item4_remaining)
      font_name: ARLRDBD
      font_size: 25
      y: bottom+24
      x: right-196
      z: 100
      anchor_x: center
      anchor_y: bottom
  widget_itembackground:
    - type: image        #ITEM BACKGROUND
      image: item_background
      anchor_x: left
      anchor_y: bottom
      y: bottom+15
      x: left+860
      z: 10
  widget_item1icon:
    - type: image       #ITEM 1 ICON
      image: Grass_Small
      anchor_x: center
      anchor_y: center
      y: bottom+ 93
      x: left + 904
      z: 100
  widget_item2icon:
    - type: image       #ITEM 2 ICON
      image: Grass_Small
      anchor_x: center
      anchor_y: center
      y: bottom+ 93
      x: left + 993
      z: 100
  widget_item3icon:
    - type: image       #ITEM 3 ICON
      image: Grass_Small
      anchor_x: center
      anchor_y: center
      y: bottom+ 93
      x: left + 1082
      z: 100
  widget_item4icon:
    - type: image       #ITEM 4 ICON
      image: Grass_Small
      anchor_x: center
      anchor_y: center
      y: bottom+ 93
      x: left + 1171
      z: 100

  # widget_videobackground:
  #   - type: video
  #     video: world1_overview
  #     auto_play: true
  #     volume: 0
  #     end_behavior: loop
  #     z: 6



slides:
  world_slide:
    widgets:
      - type: text
        font_name: lazer84
        font_size: 70
        text: "Pincraft\nLoading"
        z: 0

slide_player:
  mode_worldcontroller_started:
    world_slide

widget_player:
  mode_worldcontroller_started:
    widget_itembackground:
      slide: world_slide
    widget_item1needed:
      slide: world_slide
    widget_item2needed:
      slide: world_slide
    widget_item3needed:
      slide: world_slide
    widget_item4needed:
      slide: world_slide


event_player:
  mode_base_started:
    world_itemcheckcomplete

  mode_worldcontroller_started:
    world_itemcheckcomplete
    show_player_score
    show_ball_count
    show_tools
    show_extraball
    show_debug

  collectitem1_hit:
    world_itemcheckcomplete

  collectitem2_hit:
    world_itemcheckcomplete

  collectitem3_hit:
    world_itemcheckcomplete

  collectitem4_hit:
    world_itemcheckcomplete


  world_itemcheckcomplete{current_player.world_item1_remaining <= 0 and current_player.world_item2_remaining <= 0 and current_player.world_item3_remaining <= 0 and current_player.world_item4_remaining <= 0}:
    world_collected

  world_itemcheckcomplete{current_player.world_item1_remaining > 0}:
    collectitem1_enabled
  world_itemcheckcomplete{current_player.world_item1_remaining == 0}:
    collectitem1_disabled
  
  world_itemcheckcomplete{current_player.world_item2_remaining > 0}:
    collectitem2_enabled
  world_itemcheckcomplete{current_player.world_item2_remaining == 0}:
    collectitem2_disabled

  world_itemcheckcomplete{current_player.world_item3_remaining > 0}:
    collectitem3_enabled
  world_itemcheckcomplete{current_player.world_item3_remaining == 0}:
    collectitem3_disabled

  world_itemcheckcomplete{current_player.world_item4_remaining > 0}:
    collectitem4_enabled
  world_itemcheckcomplete{current_player.world_item4_remaining == 0}:
    collectitem4_disabled


